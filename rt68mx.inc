    IFNDEF RT68MX_INC
;
RT68MX_INC EQU 1
;
X	EQU 0

RAM     EQU $DF00

;* MEMORY DEFINITIONS
;
;* RT/68 EXECUTIVE USES 12 BYTES OF RAM
;* BEGINNING AT 0, THESE ARE NOT NEEDED
;* IN SINGLE TASK MODE AND MAY BE
;* USED FOR ANY OTHER PURPOSE.
        ORG  0          ;*
SYSMOD  RMB  1          ;* RT MODE 0=USER 1=EXEC
CURTSK  RMB  1          ;* TASK CURRENTLY ACTIVE
TIMREM  RMB  1          ;* TASK TIME REMAINING
TSKTMR  RMB  2          ;* TIMED TASK COUNTER
CLOCK   RMB  2          ;* RT CLOCK COUNTER
INTREQ  RMB  1          ;* INTERRUPT REQUEST FLAG
TSKTMP  RMB  1          ;* RT EXEC TEMP VAL
PTYTMP  RMB  1          ;* RT EXEC TEMP VAL
TIMTSK  RMB  1          ;* TIMED TASK INTR STATUS
SYSPTY  RMB  1          ;* SYS PRIORITY LEVEL

;       ORG  $A000      ;* 
        ORG  RAM        ;* 
IRQTSK  RMB  2          ;* IRQ TASK/VECTOR
BEGADR  RMB  2          ;* 
ENDADR  RMB  2          ;* 
NMITSK  RMB  2          ;* NMI TASK/VECTOR
SPTMP   RMB  2          ;* SP TMP VAL
RTMOD   RMB  1          ;* RT MODE FLAG
BKPOP   RMB  1          ;* BKPT OPCODE/FLAG
BKPADR  RMB  2          ;* BKPT ADDRESS
RELFLG  RMB  1          ;* SWI FLAG
ERRFLG  RMB  1          ;* ERROR FLAG/CODE
XTMP    RMB  2          ;* 
IOVECT  RMB  2          ;* ACIA ADDRESS VECTOR

        ORG  RAM+$42    ;* 
_STACK  EQU  *          ;* MONITOR STACK

;* TASK STATUS TABLE
;*
;* CONSISTS OF 16 3-BYTE TASK STATUS WORDS, ONE FOR
;* EACH POSSIBLE TASK. EACH TASK STATUS WORD CONTAINS
;* A TASK STATUS BYTE (TSB) AND A 2-BYTE TASK STACK
;* POINTER (TSP)
;*
;* THE TSB IS DEFINED AS FOLLOWS:
;*
;*      BIT 7   1=TASK ON       0=TASK OFF
;*      BIT 6-3 TIME LIMIT IN TICKS (0-15)
;*      BIT 2-0 TASK PRIORITY (0-7)
;*
;* THE TSP IS THE VALUE OF THE TASK'S STACK
;* POINTER FOLLOWING THE LAST INTERRUPT, AND
;* THEREFORE POINTS TO THE COMPLETE MPU
;* REGISTER CONTENTS AT THE TIME THE TASK WAS
;* INTERRUPTED. TO RESTART A TASK THE EXEC
;* INITIALIZES THE SP FROM THE TSP AND
;* EXECUTES AN RTI INSTRUCTION
;*
        ORG  RAM+$50    ;* 
TSKTBL  RMB  48         ;* 

;* DEFINE PERIPHERIAL REGISTERS
        ORG  $E000      ;* 
_ACIACS RMB  1          ;* 
_ACIADB RMB  1          ;* 
;
PIADA   RMB  1          ;* 
PIACA   RMB  1          ;* 
PIADB   RMB  1          ;* 
PIACB   RMB  1          ;* 

    ENDIF ;RT68MX_INC
;/* Local Variables: */
;/* mode: asm        */
;/* End:             */
